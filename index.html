<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sahabat Belajar - Komunitas Belajar Bersama</title>
    <meta name="description" content="Komunitas Sahabat Belajar - Belajar bersama, berkembang bersama" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="img/logo-nobg.png" />
    <link rel="apple-touch-icon" href="img/logo-nobg.png" />
    <link rel="shortcut icon" href="img/logo-nobg.png" />

    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css" />

    <!-- Font Awesome untuk icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  </head>
  <body class="bg-gray-50 loaded">
    <!-- Navigation Bar -->
    <nav class="fixed top-0 w-full bg-transparent z-50 transition-all duration-300" id="navbar">
      <div class="container mx-auto px-4 py-4">
        <div class="flex items-center justify-between">
          <a href="index.html" class="flex items-center space-x-3" id="navbar-brand">
            <img src="img/logo-brand-nobg.png" alt="Sahabat Belajar Logo" class="h-10 w-auto transition-opacity duration-300" id="navbar-logo-img" />
          </a>

          <!-- Desktop Menu -->
          <div class="hidden md:flex space-x-6">
            <a href="#hero" class="nav-link text-white hover:text-blue-200 transition-colors duration-300" id="nav-link-1">Beranda</a>
            <a href="#event" class="nav-link text-white hover:text-blue-200 transition-colors duration-300" id="nav-link-2">Event</a>
            <a href="#tentang" class="nav-link text-white hover:text-blue-200 transition-colors duration-300" id="nav-link-3">Tentang Kami</a>
            <a href="#pemateri" class="nav-link text-white hover:text-blue-200 transition-colors duration-300" id="nav-link-4">Pemateri</a>
            <a href="#kontak" class="nav-link text-white hover:text-blue-200 transition-colors duration-300" id="nav-link-5">Kontak</a>
          </div>

          <!-- Mobile Menu Button -->
          <button class="md:hidden focus:outline-none transition-colors duration-300" id="mobile-menu-btn">
            <i class="fas fa-bars text-white text-2xl" id="mobile-menu-icon"></i>
          </button>
        </div>

        <!-- Mobile Menu -->
        <div class="hidden md:hidden mt-4 pb-4" id="mobile-menu">
          <a href="#hero" class="block py-2 nav-link text-white hover:text-blue-200 transition-colors duration-300" id="mobile-nav-link-1">Beranda</a>
          <a href="#event" class="block py-2 nav-link text-white hover:text-blue-200 transition-colors duration-300" id="mobile-nav-link-2">Event</a>
          <a href="#tentang" class="block py-2 nav-link text-white hover:text-blue-200 transition-colors duration-300" id="mobile-nav-link-3">Tentang Kami</a>
          <a href="#pemateri" class="block py-2 nav-link text-white hover:text-blue-200 transition-colors duration-300" id="mobile-nav-link-4">Pemateri</a>
          <a href="#kontak" class="block py-2 nav-link text-white hover:text-blue-200 transition-colors duration-300" id="mobile-nav-link-5">Kontak</a>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section id="hero" class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-blue-500 to-indigo-600 text-white relative overflow-hidden">
      <div class="absolute inset-0 bg-black opacity-10"></div>
      <div class="container mx-auto px-4 py-20 relative z-10">
        <div class="text-center fade-in">
          <h1 class="text-5xl md:text-7xl font-bold mb-6 animate-fade-in">Sahabat Belajar</h1>
          <p class="text-xl md:text-2xl mb-4 text-blue-100">Komunitas Belajar Bersama untuk Masa Depan yang Lebih Baik</p>
          <p class="text-lg md:text-xl mb-8 text-blue-50 max-w-2xl mx-auto">Bergabunglah dengan ribuan anggota yang telah menemukan cara belajar yang menyenangkan dan efektif bersama komunitas kami.</p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="#event" class="bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-all transform hover:scale-105 shadow-lg"> Lihat Event </a>
            <a href="#kontak" class="bg-transparent border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-all transform hover:scale-105"> Bergabung Sekarang </a>
          </div>
        </div>
      </div>
      <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce">
        <i class="fas fa-chevron-down text-2xl text-white opacity-75"></i>
      </div>
    </section>

    <!-- Event Section -->
    <section id="event" class="pt-24 pb-20 relative bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 overflow-hidden">
      <!-- Background Pattern -->
      <div class="absolute inset-0 opacity-5">
        <div class="absolute inset-0" style="background-image: radial-gradient(circle at 2px 2px, rgba(59, 130, 246, 0.5) 1px, transparent 0); background-size: 40px 40px"></div>
      </div>
      <div class="container mx-auto px-4 relative z-10">
        <div class="text-center mb-12 fade-in">
          <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">Event Terbaru</h2>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-8">Dapatkan informasi tentang event-event menarik yang akan kami adakan</p>
          <a href="event.html" class="group inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-full font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:scale-105 shadow-lg hover:shadow-xl relative overflow-hidden">
            <span class="relative z-10">Lihat Semua Event</span>
            <i class="fas fa-arrow-right relative z-10 transition-transform group-hover:translate-x-1"></i>
            <div class="absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"></div>
          </a>
        </div>

        <!-- Event Carousel -->
        <div class="relative">
          <div class="overflow-hidden py-12" id="event-carousel">
            <div class="flex transition-transform duration-500 ease-in-out" id="event-carousel-track">
              <!-- Events akan di-render dari data.js -->
              <div class="w-full flex items-center justify-center py-12">
                <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
                <p class="ml-4 text-gray-600">Memuat event...</p>
              </div>
            </div>
          </div>

          <!-- Carousel Navigation -->
          <button id="event-prev" class="absolute left-0 top-1/2 -translate-y-1/2 bg-white rounded-full p-3 shadow-lg hover:bg-gray-100 transition-colors z-10">
            <i class="fas fa-chevron-left text-gray-800"></i>
          </button>
          <button id="event-next" class="absolute right-0 top-1/2 -translate-y-1/2 bg-white rounded-full p-3 shadow-lg hover:bg-gray-100 transition-colors z-10">
            <i class="fas fa-chevron-right text-gray-800"></i>
          </button>

          <!-- Carousel Indicators -->
          <div class="flex justify-center mt-8 gap-2" id="carousel-indicators-container">
            <!-- Indicators akan di-generate dinamis berdasarkan jumlah event -->
          </div>
        </div>
      </div>
    </section>

    <!-- Tentang Kami Section -->
    <section id="tentang" class="py-20 relative bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 overflow-hidden">
      <!-- Background Blur Effect -->
      <div class="absolute inset-0 backdrop-blur-sm bg-white/30"></div>
      <!-- Background Pattern -->
      <div class="absolute inset-0 opacity-5">
        <div class="absolute inset-0" style="background-image: radial-gradient(circle at 2px 2px, rgba(99, 102, 241, 0.5) 1px, transparent 0); background-size: 50px 50px"></div>
      </div>
      <div class="container mx-auto px-4 relative z-10">
        <div class="text-center mb-12 fade-in">
          <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">Tentang Kami</h2>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto">Komunitas yang berdedikasi untuk membantu setiap orang mencapai potensi terbaik mereka</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center mb-16">
          <div class="fade-in">
            <h3 class="text-3xl font-bold text-gray-800 mb-4">Siapa Kami?</h3>
            <p class="text-gray-600 mb-4 leading-relaxed">Sahabat Belajar adalah komunitas pembelajaran yang didirikan dengan tujuan untuk menciptakan lingkungan belajar yang inklusif, mendukung, dan inspiratif. Kami percaya bahwa belajar adalah proses seumur hidup yang seharusnya menyenangkan dan dapat diakses oleh semua orang.</p>
            <p class="text-gray-600 leading-relaxed">Sejak didirikan, kami telah membantu ribuan anggota untuk mengembangkan skill mereka, membangun jaringan profesional, dan mencapai tujuan karir mereka melalui berbagai program pembelajaran dan event yang kami selenggarakan.</p>
          </div>
          <div class="bg-white rounded-lg shadow-lg p-8 fade-in flex items-center justify-center">
            <div class="text-center">
              <img src="img/logo-nobg.png" alt="Sahabat Belajar" class="h-32 md:h-40 w-auto mx-auto object-contain" />
              <p class="text-gray-600 mt-4 font-medium">Sahabat Belajar</p>
            </div>
          </div>
        </div>

        <!-- Visi Misi -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <div class="bg-white rounded-lg shadow-lg p-8 fade-in">
            <div class="flex items-center mb-4">
              <div class="bg-blue-100 rounded-full p-3 mr-4">
                <i class="fas fa-eye text-blue-600 text-2xl"></i>
              </div>
              <h3 class="text-2xl font-bold text-gray-800">Visi</h3>
            </div>
            <p class="text-gray-600 leading-relaxed">Menjadi komunitas pembelajaran terdepan di Indonesia yang mampu memberdayakan setiap individu untuk mencapai potensi maksimal mereka melalui pembelajaran kolaboratif dan inovatif.</p>
          </div>

          <div class="bg-white rounded-lg shadow-lg p-8 fade-in">
            <div class="flex items-center mb-4">
              <div class="bg-green-100 rounded-full p-3 mr-4">
                <i class="fas fa-bullseye text-green-600 text-2xl"></i>
              </div>
              <h3 class="text-2xl font-bold text-gray-800">Misi</h3>
            </div>
            <ul class="text-gray-600 leading-relaxed space-y-2">
              <li><i class="fas fa-check text-green-600 mr-2"></i>Menyediakan platform pembelajaran yang mudah diakses</li>
              <li><i class="fas fa-check text-green-600 mr-2"></i>Mengadakan event dan workshop berkualitas</li>
              <li><i class="fas fa-check text-green-600 mr-2"></i>Membangun jaringan profesional yang kuat</li>
              <li><i class="fas fa-check text-green-600 mr-2"></i>Mendukung pengembangan karir anggota</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Pemateri Section -->
    <section id="pemateri" class="py-20 bg-white">
      <div class="container mx-auto px-4">
        <div class="text-center mb-12 fade-in">
          <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">Pemateri Kami</h2>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-8">Belajar dari para expert yang berpengalaman di bidangnya masing-masing</p>
          <a href="pemateri.html" class="group inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-full font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:scale-105 shadow-lg hover:shadow-xl relative overflow-hidden">
            <span class="relative z-10">Lihat Semua</span>
            <i class="fas fa-arrow-right relative z-10 transition-transform group-hover:translate-x-1"></i>
            <div class="absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"></div>
          </a>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8" id="pemateri-grid">
          <!-- Pemateri akan di-render dari data.js -->
          <div class="col-span-full text-center py-12">
            <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
            <p class="mt-4 text-gray-600">Memuat data pemateri...</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Kontak Section -->
    <section id="kontak" class="py-20 relative bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 overflow-hidden">
      <!-- Background Pattern -->
      <div class="absolute inset-0 opacity-5">
        <div class="absolute inset-0" style="background-image: radial-gradient(circle at 2px 2px, rgba(99, 102, 241, 0.5) 1px, transparent 0); background-size: 50px 50px"></div>
      </div>
      <!-- Decorative Circles -->
      <div class="absolute top-20 left-10 w-72 h-72 bg-blue-200 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"></div>
      <div class="absolute top-40 right-10 w-72 h-72 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"></div>
      <div class="absolute -bottom-8 left-1/2 w-72 h-72 bg-pink-200 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"></div>

      <div class="container mx-auto px-4 relative z-10">
        <div class="text-center mb-16 fade-in">
          <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">Ikuti Kami</h2>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-2">Terhubung dengan kami melalui media sosial untuk update terbaru</p>
          <div class="w-24 h-1 bg-gradient-to-r from-blue-600 to-purple-600 mx-auto rounded-full"></div>
        </div>

        <div class="max-w-4xl mx-auto fade-in">
          <div class="bg-white/80 backdrop-blur-lg rounded-2xl shadow-2xl p-12 md:p-16 border border-white/20">
            <div class="flex flex-wrap justify-center gap-8 md:gap-12">
              <!-- WhatsApp -->
              <a href="https://wa.me/6285732957608" target="_blank" class="group relative">
                <div class="absolute inset-0 bg-green-500 rounded-2xl blur-lg opacity-50 group-hover:opacity-75 transition-opacity"></div>
                <div class="relative bg-gradient-to-br from-green-400 to-green-600 text-white w-24 h-24 md:w-28 md:h-28 rounded-2xl flex flex-col items-center justify-center hover:scale-110 transition-all duration-300 shadow-xl hover:shadow-2xl hover:shadow-green-500/50">
                  <i class="fab fa-whatsapp text-3xl md:text-4xl mb-1"></i>
                  <span class="text-xs font-semibold">WhatsApp</span>
                </div>
              </a>

              <!-- Instagram -->
              <a href="https://www.instagram.com/sahabatbelajar.official/" target="_blank" class="group relative">
                <div class="absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl blur-lg opacity-50 group-hover:opacity-75 transition-opacity"></div>
                <div class="relative bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 text-white w-24 h-24 md:w-28 md:h-28 rounded-2xl flex flex-col items-center justify-center hover:scale-110 transition-all duration-300 shadow-xl hover:shadow-2xl hover:shadow-pink-500/50">
                  <i class="fab fa-instagram text-3xl md:text-4xl mb-1"></i>
                  <span class="text-xs font-semibold">Instagram</span>
                </div>
              </a>

              <!-- TikTok -->
              <a href="https://www.tiktok.com/@sahabatbelajar.official" target="_blank" class="group relative">
                <div class="absolute inset-0 bg-black rounded-2xl blur-lg opacity-50 group-hover:opacity-75 transition-opacity"></div>
                <div class="relative bg-gradient-to-br from-gray-900 via-black to-gray-800 text-white w-24 h-24 md:w-28 md:h-28 rounded-2xl flex flex-col items-center justify-center hover:scale-110 transition-all duration-300 shadow-xl hover:shadow-2xl hover:shadow-gray-900/50">
                  <i class="fab fa-tiktok text-3xl md:text-4xl mb-1"></i>
                  <span class="text-xs font-semibold">TikTok</span>
                </div>
              </a>
            </div>

            <!-- Additional Info -->
            <div class="mt-12 text-center">
              <p class="text-gray-600 mb-4">
                <i class="fas fa-envelope mr-2 text-blue-600"></i>
                <a href="mailto:sahabatbelajar.official230@gmail.com" class="hover:text-blue-600 transition-colors">sahabatbelajar.official230@gmail.com</a>
              </p>
              <p class="text-sm text-gray-500">Respon cepat melalui WhatsApp atau DM Instagram kami</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
          <div>
            <div class="flex items-center space-x-3 mb-4">
              <img src="img/logo-brand-nobg.png" alt="Sahabat Belajar Logo" class="h-10 w-auto" style="filter: brightness(0) invert(1)" />
            </div>
            <p class="text-gray-400">Komunitas pembelajaran terdepan di Indonesia untuk masa depan yang lebih baik.</p>
          </div>
          <div>
            <h4 class="font-semibold mb-4">Tautan Cepat</h4>
            <ul class="space-y-2 text-gray-400">
              <li><a href="#hero" class="hover:text-white transition-colors">Beranda</a></li>
              <li><a href="#event" class="hover:text-white transition-colors">Event</a></li>
              <li><a href="#tentang" class="hover:text-white transition-colors">Tentang Kami</a></li>
              <li><a href="#pemateri" class="hover:text-white transition-colors">Pemateri</a></li>
            </ul>
          </div>

          <div>
            <h4 class="font-semibold mb-4">Media Sosial</h4>
            <div class="flex space-x-4">
              <a href="https://wa.me/6285732957608" target="_blank" class="text-gray-400 hover:text-green-400 transition-colors">
                <i class="fab fa-whatsapp text-xl"></i>
              </a>
              <a href="https://www.instagram.com/sahabatbelajar.official/" target="_blank" class="text-gray-400 hover:text-pink-400 transition-colors">
                <i class="fab fa-instagram text-xl"></i>
              </a>
              <a href="https://www.tiktok.com/@sahabatbelajar.official" target="_blank" class="text-gray-400 hover:text-white transition-colors">
                <i class="fab fa-tiktok text-xl"></i>
              </a>
            </div>
          </div>
        </div>
        <div class="border-t border-gray-700 pt-8 text-center text-gray-400">
          <p>&copy; 2026 Sahabat Belajar. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="back-to-top" class="fixed bottom-8 right-8 bg-blue-600 text-white w-12 h-12 rounded-full shadow-lg hover:bg-blue-700 transition-all opacity-0 invisible transform translate-y-4">
      <i class="fas fa-arrow-up"></i>
    </button>

    <!-- JavaScript -->
    <script src="data.js"></script>
    <script src="data-loader.js"></script>
    <script src="render-functions.js"></script>
    <script src="script.js"></script>
    <script>
      // Load events untuk carousel di homepage
      async function loadCarouselEvents() {
        try {
          const dataLoader = new DataLoader();
          await dataLoader.loadData();
          const bulanId = { Januari:0, Februari:1, Maret:2, April:3, Mei:4, Juni:5, Juli:6, Agustus:7, September:8, Oktober:9, November:10, Desember:11 };
          const parseTanggal = (t) => {
            const [d, bulan, y] = (t || "").split(" ");
            const m = bulanId[bulan] ?? 0;
            return new Date(parseInt(y, 10), m, parseInt(d, 10) || 1);
          };
          const events = dataLoader.getEvents("all")
            .sort((a, b) => parseTanggal(b.tanggal) - parseTanggal(a.tanggal))
            .slice(0, 10);

          const carouselTrack = document.getElementById("event-carousel-track");
          if (carouselTrack && events.length > 0) {
            // Reset transform sebelum render
            carouselTrack.style.transform = "translateX(0%)";
            carouselTrack.style.display = "flex";
            carouselTrack.style.visibility = "visible";
            carouselTrack.style.opacity = "1";

            carouselTrack.innerHTML = events
              .map((event) => {
                const gradientColors = {
                  dongeng: "from-orange-500 to-pink-600",
                  dakwah: "from-green-500 to-emerald-600",
                  talkshow: "from-purple-500 to-indigo-600",
                };
                const iconColors = {
                  dongeng: "text-orange-600",
                  dakwah: "text-green-600",
                  talkshow: "text-purple-600",
                };
                const icons = {
                  dongeng: "fa-book-reader",
                  dakwah: "fa-mosque",
                  talkshow: "fa-microphone",
                };
                const gradient = gradientColors[event.kategori] || "from-gray-500 to-gray-600";
                const iconColor = iconColors[event.kategori] || "text-gray-600";
                const icon = icons[event.kategori] || "fa-calendar";

                // Render tags
                const tagsHtml = event.tag.map((tag) => `<span class="inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded mr-1 mb-1">${tag}</span>`).join("");

                // Render pemateri
                const pemateriHtml =
                  event.pemateri.length > 0
                    ? `<div class="flex items-center mb-4">
                        <i class="fas fa-user ${iconColor} mr-2"></i>
                        <span class="text-gray-600 text-sm">${event.pemateri.join(", ")}</span>
                      </div>`
                    : "";

                return `
                  <div class="w-full md:w-1/2 lg:w-1/3 flex-shrink-0 px-4">
                      <div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-all transform hover:-translate-y-2 fade-in flex flex-col h-full">
                          <div class="bg-gradient-to-r ${gradient} h-48 flex items-center justify-center relative overflow-hidden flex-shrink-0">
                              ${event.gambar ? `<img src="${event.gambar}" alt="${event.nama}" class="absolute inset-0 w-full h-full object-cover opacity-90" onerror="this.style.display='none';">` : ""}
                              <div class="absolute top-4 right-4 left-auto w-max inline-flex bg-gradient-to-r ${gradient} px-3 py-1.5 rounded-full z-10 shadow-lg border border-white/30 backdrop-blur-sm">
                                  <div class="flex items-center gap-2">
                                      <i class="fas ${icon} text-white text-xs"></i>
                                      <span class="text-white text-xs font-bold uppercase tracking-wide whitespace-nowrap">${event.kategori}</span>
                                  </div>
                              </div>
                          </div>
                          <div class="p-6 flex flex-col flex-grow">
                              <div class="flex items-center mb-2">
                                  <i class="fas fa-calendar ${iconColor} mr-2"></i>
                                  <span class="text-gray-600">${event.tanggal}</span>
                              </div>
                              <h3 class="text-xl font-bold text-gray-800 mb-2">${event.nama}</h3>
                              <p class="text-gray-600 mb-4">
                                  ${event.deskripsi.substring(0, 100)}${event.deskripsi.length > 100 ? "..." : ""}
                              </p>
                              <div class="flex items-center mb-4">
                                  <i class="fas fa-map-marker-alt ${iconColor} mr-2"></i>
                                  <span class="text-gray-600">${event.lokasi}</span>
                              </div>
                              <a href="${event.linkIg}" target="_blank" class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-2 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all flex items-center justify-center gap-2 mt-auto">
                                  <i class="fab fa-instagram"></i>
                                  Ikuti di Instagram
                              </a>
                          </div>
                      </div>
                  </div>
                        `;
              })
              .join("");

            // Clone slide pertama di ujung untuk infinite scroll
            if (carouselTrack.firstElementChild) {
              carouselTrack.appendChild(carouselTrack.firstElementChild.cloneNode(true));
            }

            // Pastikan carousel track visible dan reset position dengan !important
            carouselTrack.style.cssText = `
              display: flex !important;
              transform: translateX(0%) !important;
              visibility: visible !important;
              opacity: 1 !important;
              position: relative !important;
              width: 100% !important;
            `;

            // Pastikan setiap card visible
            setTimeout(() => {
              const cards = carouselTrack.querySelectorAll("div");
              cards.forEach((card, index) => {
                card.style.cssText += `
                  display: block !important;
                  visibility: visible !important;
                  opacity: 1 !important;
                `;
              });
            }, 50);

            // Generate carousel indicators dinamis
            const indicatorsContainer = document.getElementById("carousel-indicators-container");
            if (indicatorsContainer) {
              indicatorsContainer.innerHTML = events.map((_, index) => `<button class="carousel-indicator w-2 h-2 rounded-full transition-all ${index === 0 ? "bg-blue-600 w-8" : "bg-gray-300"}" data-slide="${index}"></button>`).join("");
            }

            // Re-initialize carousel setelah render dengan delay kecil untuk memastikan DOM sudah ter-update
            setTimeout(() => {
              initializeCarousel();
            }, 100);
          } else {
            console.error("Carousel track tidak ditemukan atau tidak ada event");
          }
        } catch (error) {
          console.error("Error loading carousel events:", error);
          const carouselTrack = document.getElementById("event-carousel-track");
          if (carouselTrack) {
            carouselTrack.innerHTML = '<p class="text-center text-gray-600 py-12">Gagal memuat data event. Silakan refresh halaman.</p>';
          }
        }
      }

      // Load pemateri untuk section pemateri (id 1 + 3 acak)
      async function loadPemateriHomepage() {
        try {
          const dataLoader = new DataLoader();
          await dataLoader.loadData();
          const all = dataLoader.getPemateri();
          const fixed = all.find((p) => p.id === 1);
          const rest = all.filter((p) => p.id !== 1 && p.id !== 12);
          const shuffled = [...rest].sort(() => Math.random() - 0.5);
          const pemateri = fixed ? [fixed, ...shuffled.slice(0, 3)] : shuffled.slice(0, 4);
          renderPemateriGrid(pemateri, "pemateri-grid");
        } catch (error) {
          console.error("Error loading pemateri:", error);
          document.getElementById("pemateri-grid").innerHTML = '<p class="text-center text-gray-600 col-span-full">Gagal memuat data pemateri. Silakan refresh halaman.</p>';
        }
      }

      // Initialize carousel function
      let carouselInitialized = false;

      function initializeCarousel() {
        const eventCarousel = document.getElementById("event-carousel-track");
        const eventPrevBtn = document.getElementById("event-prev");
        const eventNextBtn = document.getElementById("event-next");
        const carouselIndicators = document.querySelectorAll(".carousel-indicator");

        if (!eventCarousel) {
          console.warn("Carousel track tidak ditemukan");
          return;
        }

        if (carouselIndicators.length === 0) {
          console.warn("Carousel indicators belum tersedia");
          return;
        }

        const totalSlides = carouselIndicators.length;
        const totalTrackSlides = eventCarousel.children.length; // termasuk clone untuk infinite

        // Clear interval sebelumnya jika ada
        if (window.carouselInterval) {
          clearInterval(window.carouselInterval);
        }

        // Reset current slide (menggunakan variabel global dari script.js)
        window.currentSlide = 0;

        function getSlidesPerView() {
          if (window.innerWidth >= 1024) return 3; // lg
          if (window.innerWidth >= 768) return 2; // md
          return 1; // sm
        }

        function updateCarousel(instant) {
          if (!eventCarousel) return;
          const slidesPerView = getSlidesPerView();
          const slideWidth = 100 / slidesPerView;
          const slideIndex = window.currentSlide || 0;
          const translateX = -(slideIndex * slideWidth);

          if (instant) eventCarousel.style.transition = "none";
          eventCarousel.style.transform = `translateX(${translateX}%)`;
          eventCarousel.style.display = "flex";
          eventCarousel.style.visibility = "visible";
          if (instant) {
            eventCarousel.offsetHeight;
            eventCarousel.style.transition = "";
          }

          const indicatorIndex = slideIndex >= totalSlides ? 0 : slideIndex;
          const indicators = document.querySelectorAll(".carousel-indicator");
          indicators.forEach((indicator, index) => {
            if (index === indicatorIndex) {
              indicator.classList.remove("bg-gray-300", "w-2");
              indicator.classList.add("bg-blue-600", "w-8");
            } else {
              indicator.classList.remove("bg-blue-600", "w-8");
              indicator.classList.add("bg-gray-300", "w-2");
            }
          });
        }

        function goNext() {
          if (window.currentSlide === totalSlides - 1) {
            window.currentSlide = totalTrackSlides - 1;
            updateCarousel(false);
          } else {
            window.currentSlide = Math.min(window.currentSlide + 1, totalTrackSlides - 1);
            updateCarousel(false);
          }
        }

        function goPrev() {
          if (window.currentSlide === 0) {
            window.currentSlide = totalTrackSlides - 1;
            updateCarousel(true);
            requestAnimationFrame(() => {
              window.currentSlide = totalSlides - 1;
              updateCarousel(false);
            });
          } else {
            window.currentSlide = window.currentSlide - 1;
            updateCarousel(false);
          }
        }

        function onCarouselTransitionEnd() {
          if (window.currentSlide === totalTrackSlides - 1 && totalTrackSlides > totalSlides) {
            window.currentSlide = 0;
            updateCarousel(true);
          }
        }

        // Remove old event listeners jika sudah di-initialize sebelumnya
        if (carouselInitialized && eventPrevBtn && eventNextBtn) {
          const newPrevBtn = eventPrevBtn.cloneNode(true);
          const newNextBtn = eventNextBtn.cloneNode(true);
          eventPrevBtn.parentNode.replaceChild(newPrevBtn, eventPrevBtn);
          eventNextBtn.parentNode.replaceChild(newNextBtn, eventNextBtn);
        }

        // Add event listeners untuk navigation buttons
        const prevBtn = document.getElementById("event-prev");
        const nextBtn = document.getElementById("event-next");

        if (prevBtn && nextBtn) {
          prevBtn.addEventListener("click", goPrev);
          nextBtn.addEventListener("click", goNext);
        }

        eventCarousel.addEventListener("transitionend", onCarouselTransitionEnd);

        // Add event listeners untuk indicators
        const indicators = document.querySelectorAll(".carousel-indicator");
        indicators.forEach((indicator, index) => {
          indicator.addEventListener("click", () => {
            window.currentSlide = index;
            updateCarousel();
          });
        });

        // Auto-play carousel (infinite)
        function startCarousel() {
          if (window.carouselInterval) {
            clearInterval(window.carouselInterval);
          }
          window.carouselInterval = setInterval(goNext, 5000);
        }

        if (eventCarousel) {
          startCarousel();

          const carouselContainer = document.getElementById("event-carousel");
          if (carouselContainer) {
            carouselContainer.addEventListener("mouseenter", () => {
              if (window.carouselInterval) {
                clearInterval(window.carouselInterval);
              }
            });
            carouselContainer.addEventListener("mouseleave", () => {
              startCarousel();
            });
          }
        }

        // Initial update
        window.currentSlide = 0; // Reset ke slide pertama
        updateCarousel();
        carouselInitialized = true;
      }

      // Load carousel events and pemateri on page load
      // Tunggu sampai appData tersedia
      function waitForData() {
        if (typeof appData !== "undefined") {
          loadCarouselEvents();
          loadPemateriHomepage();
        } else {
          setTimeout(waitForData, 100);
        }
      }

      // Start loading setelah DOM ready
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", waitForData);
      } else {
        waitForData();
      }
    </script>
  </body>
</html>
